(this.webpackJsonpgithub=this.webpackJsonpgithub||[]).push([[0],{23:function(e,a,t){e.exports=t(36)},28:function(e,a,t){},36:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(19),s=t.n(c),o=(t(28),t(15)),u=t(22),l=t(4),i=t.n(l),m=t(5),p=t(8),h=t(9),d=t(11),f=t(10),v=t(12),g=t(1),b=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(d.a)(this,Object(f.a)(a).call(this,e))).handleUserNameChange=function(e){var a=e.target.value;t.setState({username:a})},t.state={username:e.username||""},t}return Object(v.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e=this.props.history,a=this.state.username;return n.a.createElement("div",{className:"bg-dark"},n.a.createElement("div",{className:"container py-5"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-8 offset-2 text-center"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-9"},n.a.createElement("input",{className:"form-control",value:a,onChange:this.handleUserNameChange,type:"text",name:"username",placeholder:"Enter username"})),n.a.createElement("div",{className:"col-3"},n.a.createElement("button",{onClick:function(){return e.push("/".concat(a))},className:"btn btn-large btn-success"},"Search")))))))}}]),a}(n.a.Component),E=Object(g.e)(b),w=function(e){var a=e.user;return n.a.createElement("div",{className:"card mb-4"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"d-flex"},n.a.createElement("img",{className:"img-round user-image mr-5",src:a.avatar_url}),n.a.createElement("div",null,n.a.createElement("h1",null,a.name),n.a.createElement("p",{className:"mb-0 font-italic"},a.company),n.a.createElement("p",{className:"mb-0"},a.bio)))))},x=function(e){var a=e.repo;return n.a.createElement("div",{className:"cardghfg mb-4abcd"},n.a.createElement("div",{className:"card-body"},n.a.createElement("a",{href:a.html_url,target:"_blank"},n.a.createElement("h3",null,a.full_name),n.a.createElement("p",null,n.a.createElement("strong",null,"Stars:")," ",a.stargazers_count),n.a.createElement("p",{className:"mb-0"},n.a.createElement("strong",null,"Watchers:")," ",a.watchers_count))))},k=function(e){function a(){var e,t;Object(p.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(t=Object(d.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).state={user:null,repos:[],userDataError:null,loading:!1,pageSize:10,page:1,fetchingRepos:!1},t.handleScroll=function(){var e=window.scrollY,a=window.scrollMaxY,r=t.state,n=r.page,c=r.pageSize,s=r.user;s&&a-e<=100&&(n-1)*c<s.public_repos&&t.loadPage()},t.fetchUserData=function(){var e=Object(m.a)(i.a.mark((function e(a){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.github.com/users/".concat(a));case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:return r=e.sent,e.abrupt("return",{data:r});case 8:return e.next=10,t.json();case 10:return e.sent.message,e.abrupt("return",{error:" "});case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),t.fetchRepos=function(){var e=Object(m.a)(i.a.mark((function e(a){var r,n,c,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,n=r.pageSize,c=r.page,e.next=3,fetch("https://api.github.com/users/".concat(a,"/repos?page=").concat(c,"&per_page=").concat(n));case 3:if(!(s=e.sent).ok){e.next=9;break}return e.next=7,s.json();case 7:return o=e.sent,e.abrupt("return",{data:o});case 9:return e.next=11,s.json();case 11:return e.sent.message,e.abrupt("return",{error:"No user exists with  ".concat(a," username")});case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),t.fetchData=function(){var e=Object(m.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({loading:!0,userDataError:null,reposError:null},Object(m.a)(i.a.mark((function e(){var r,n,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([t.fetchUserData(a),t.fetchRepos(a)]);case 3:if(r=e.sent,n=Object(u.a)(r,2),c=n[0],s=n[1],void 0===c.data||void 0===s.data){e.next=9;break}return e.abrupt("return",t.setState({user:c.data,repos:s.data,page:2,loading:!1}));case 9:t.setState({userDataError:c.error,reposError:s.error,loading:!1}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t.setState({error:"There was some error",loading:!1});case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),t.loadPage=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.state.fetchingRepos){e.next=2;break}return e.abrupt("return");case 2:t.setState({fetchingRepos:!0},Object(m.a)(i.a.mark((function e(){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchRepos(t.state.user.login);case 2:a=e.sent,(r=a.data)&&t.setState((function(e){return{repos:[].concat(Object(o.a)(e.repos),Object(o.a)(r)),page:e.page+1,fetchingRepos:!1}}));case 5:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)}))),t}return Object(v.a)(a,e),Object(h.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll);var e=this.props.match;e.params.username&&this.fetchData(e.params.username)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.hanleScroll)}},{key:"render",value:function(){var e=this.state,a=e.userDataError,t=e.reposError,r=e.loading,c=e.user,s=e.repos,o=this.props.match,u=!r&&!t&&!!s.length;return n.a.createElement(n.a.Fragment,null,n.a.createElement(E,{username:o.params.username}),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"text-center pt-5"},r&&n.a.createElement("p",null,"Loading..."),a&&n.a.createElement("p",{className:"text-danger"},a)),!r&&!a&&c&&n.a.createElement(w,{user:c}),t&&n.a.createElement("p",{className:"text-danger"},t),u&&n.a.createElement(n.a.Fragment,null,s.map((function(e){return n.a.createElement(x,{key:e.id,repo:e})})))))}}]),a}(n.a.Component),j=Object(g.e)(k);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(35);var N=t(7);s.a.render(n.a.createElement(N.a,null,n.a.createElement(g.a,{path:"/:username?",exact:!0,render:function(e){var a=e.match;return n.a.createElement(j,{key:a.params.username})}})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.3d4bf53b.chunk.js.map